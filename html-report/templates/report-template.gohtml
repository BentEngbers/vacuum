<!DOCTYPE html>
<html lang="en" class="sl-theme-dark">
{{- template "header" . -}}
<body class="terminal">
<div class="container">
    <section class="terminal-nav">
        <header class="terminal-logo">
            <div class="logo">
                <a href="https://quobix.com/vacuum" class="no-style">vacuum</a>
            </div>
        </header>
    </section>
</div>
<hr class="header"/>


<div class="container">


{{/*    <sl-tab-group>*/}}
{{/*        <sl-tab slot="nav" panel="general">General</sl-tab>*/}}
{{/*        <sl-tab slot="nav" panel="custom">Custom</sl-tab>*/}}
{{/*        <sl-tab slot="nav" panel="advanced">Advanced</sl-tab>*/}}
{{/*        <sl-tab slot="nav" panel="disabled" disabled>Disabled</sl-tab>*/}}
{{/*        <sl-tab-panel name="general">This is the general tab panel.</sl-tab-panel>*/}}
{{/*        <sl-tab-panel name="custom">This is the custom tab panel.</sl-tab-panel>*/}}
{{/*        <sl-tab-panel name="advanced">This is the advanced tab panel.</sl-tab-panel>*/}}
{{/*        <sl-tab-panel name="disabled">This is a disabled tab panel.</sl-tab-panel>*/}}
{{/*    </sl-tab-group>*/}}



    <section class="report-statistics">
        <sl-card class="card-header">
            <div slot="header">
                Report Quality
            </div>

            <div class="quality">
                88%
            </div>
        </sl-card>

        <category-piechart>
            nice.
        </category-piechart>

        <table>
            <tr>
                <td>Filesize:</td>
                <td>{{ .Statistics.FilesizeKB }}KB</td>
            </tr>
            <tr>
                <td>Type:</td>
                <td>{{ .Statistics.SpecType }}</td>
            </tr>
            <tr>
                <td>Format:</td>
                <td>{{ .Statistics.SpecFormat }}</td>
            </tr>
            <tr>
                <td>Version:</td>
                <td>{{ .Statistics.Version }}</td>
            </tr>
            <tr>
                <td>References:</td>
                <td>{{ .Statistics.References }}</td>
            </tr>
            <tr>
                <td>External Docs:</td>
                <td>{{ .Statistics.ExternalDocs }}</td>
            </tr>
            <tr>
                <td>Parameters:</td>
                <td>{{ .Statistics.Parameters }}</td>
            </tr>
        </table>

        <table>
            <tr>
                <td>Links:</td>
                <td>{{ .Statistics.Links }}</td>
            </tr>
            <tr>
                <td>Paths:</td>
                <td>{{ .Statistics.Paths }}</td>
            </tr>
            <tr>
                <td>Operations:</td>
                <td>{{ .Statistics.Operations }}</td>
            </tr>
            <tr>
                <td>Tags:</td>
                <td>{{ .Statistics.Tags }}</td>
            </tr>
            <tr>
                <td>Examples:</td>
                <td>{{ .Statistics.Examples }}</td>
            </tr>
            <tr>
                <td>Enums:</td>
                <td>{{ .Statistics.Enums }}</td>
            </tr>
            <tr>
                <td>Security Defs:</td>
                <td>{{ .Statistics.Security }}</td>
            </tr>
        </table>

    </section>






    <script>
        // chart needs data
        const catChart = document.querySelector('category-piechart')
        if (catChart) {
          catChart.setChartData(statisticsData);
        } else {
          alert('Something went really wrong.');
        }
    </script>



    <html-report>


        <rule-category-navigation slot="navigation" id='rule-category-nav' default="all">
        {{- with .RuleCategories -}}
            {{- range . }}
            <rule-category-button name="{{ .Id }}">{{ .Name }}</rule-category-button>
            {{- end }}
        {{- end }}
        </rule-category-navigation>
        {{- $allResults := .RuleResults -}}
        {{- with .RuleCategories -}}
        {{- range . }}
        <category-report slot="reports" id="{{ .Id }}">

            {{-  $ruleResults := extractResultsForCategory .Id $allResults -}}

            <section class="category-broken-rules">
                <ul>
                {{- with $ruleResults.Rules -}}
                {{- range . }}
                    <li>{{- .Rule.Description -}}</li>
                {{- end -}}
                {{- end -}}
                </ul>
            </section>

            <section class="category-description">
                {{ .Description }}
            </section>

            {{- with $ruleResults.Rules -}}
            {{- range . }}
            <category-rule-result id="">
                <hr/>
                <ul>
                {{- with .Results -}}
                {{- range . }}
                    <li>{{ .Message }}</li>
                {{- end -}}
                {{- end -}}
                </ul>
            </category-rule-result>
            {{- end -}}
            {{- end -}}

        </category-report>
        {{- end }}
        {{- end }}





    </html-report>
</div>

{{- if not .TestMode -}}
<script>
    {{ .HydrateJS }}
</script>
{{- else -}}
<script src="http://localhost:8080/js/hydrate.js"></script>
{{- end -}}
</body>
<div class="container">
{{- template "footer" . -}}
</div>
</html>


